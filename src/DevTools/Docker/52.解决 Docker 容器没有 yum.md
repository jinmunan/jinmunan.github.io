---
icon: page
order: 18
---
# 解决 Docker 容器没有 yum

你可以通过在 Dockerfile 中使用基础镜像 CentOS 或者 Fedora，并安装 Nginx 和 yum 工具来创建一个包含 yum 和 Nginx 的 Docker 镜像。以下是一个示例 Dockerfile：

```dockerfile
FROM centos:centos7

RUN yum -y update && \
    yum -y install epel-release && \
    yum -y install nginx && \
    yum clean all

CMD ["nginx", "-g", "daemon off;"]
```

在这个 Dockerfile 中，我们首先更新系统中的软件包，然后安装了 Nginx 和 yum-utils 工具包。最后，我们使用 `nginx` 命令作为默认的容器启动命令，并使用 `-g` 参数设置 Nginx 的 `daemon off;` 选项，以使 Nginx 在前台运行并输出日志。

构建并运行该镜像的 Docker 容器：

```sh
docker build -t my-nginx .
```

```sh
docker run -d \
    -p 81:80 \
    --name my-nginx \
    -v /home/nginx/conf/nginx.conf:/etc/nginx/nginx.conf \
    -v /home/nginx/conf/conf.d:/etc/nginx/conf.d \
    -v /home/nginx/log:/var/log/nginx \
    -v /home/nginx/html:/usr/share/nginx/html \
    my-nginx
```

这将构建一个名为 `my-nginx` 的 Docker 镜像，并在容器中启动 Nginx。你可以通过访问 `http://localhost` 来测试它是否工作正常。
