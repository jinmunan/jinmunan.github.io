---
icon: page
order: 13
---
# Docker-Compose 容器编排

## Compose 容器编排

### 是什么

Compose 是 Docker 公司推出的一个工具软件，可以管理多个 Docker 容器组成一个应用。你需要定义一个 YAML 格式的配置文件 docker-compose.yml，写好多个容器之间的调用关系。然后，只要一个命令，就能同时启动/关闭这些容器。

Docker-Compose 是 Docker 官方的开源项目，负责实现对 Docker 容器集群的快速编排。

### 能干嘛

docker 建议我们每一个容器中只运行一个服务，因为 docker 容器本身占用资源极少，所以最好是将每个服务单独的分割开来但是这样我们又面临了一个问题？

如果我需要同时部署好多个服务，难道要每个服务单独写 Dockerfile 然后在构建镜像，构建容器，这样累都累死了，所以 docker 官方给我们提供了 docker-compose 多服务部署的工具。

例如要实现一个 Web 微服务项目，除了 Web 服务容器本身，往往还需要再加上后端的数据库 MySQL 服务容器，redis 服务器，注册中心 eureka，甚至还包括负载均衡容器等等。

Compose 允许用户通过一个单独的 docker-compose.yml 模板文件（YAML 格式）来定义一组相关联的应用容器为一个项目（project）。可以很容易地用一个配置文件定义一个多容器的应用，然后使用一条指令安装这个应用的所有依赖，完成构建。Docker-Compose 解决了容器与容器之间如何管理编排的问题。

### 安装步骤

[compose 官网](https://docs.docker.com/compose/compose-file/compose-file-v3/)

[compose 下载](https://docs.docker.com/compose/install/)

```sh
# 下载
curl -L "https://github.com/docker/compose/releases/download/1.29.2/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose

# 赋予执行权限
chmod +x /usr/local/bin/docker-compose

# 查看版本
docker-compose --version

[root@jinmunan cig]# docker-compose --version
docker-compose version 1.29.2, build 5becea4c
```

### 卸载步骤

```sh
# 删除文件夹
sudo rm /usr/local/bin/docekr-compose
```

## Compose 核心概念
