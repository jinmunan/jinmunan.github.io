---
icon: page
order: 8
---
# PLSQL 触发器

## 什么是PL/SQL触发器？

PL/SQL触发器是一种特殊类型的PL/SQL程序，它们与数据库表相关联，并在表上执行特定的事件时自动触发。这些事件可以是数据的插入、更新或删除等操作，当这些操作发生时，触发器会自动执行，从而对数据进行处理或修改。

PL/SQL触发器可以用于各种任务，例如数据验证、数据转换、数据复制等。通常，当特定事件发生时，触发器会自动执行一些代码，这些代码可以修改表中的数据或执行其他操作。

PL/SQL触发器包含两个主要组件：触发事件和触发操作。触发事件指的是当某些特定的数据操作发生时，触发器会被触发，例如插入、更新或删除数据等。触发操作指的是在触发器被触发时要执行的操作，例如修改表中的数据、发送电子邮件等。

PL/SQL触发器可以在数据库中使用，通常与存储过程、函数、触发器等一起使用来实现业务逻辑。

## PL/SQL触发器有哪些类型?

PL/SQL触发器主要分为三种类型：BEFORE触发器、AFTER触发器和INSTEAD OF 触发器。

1. BEFORE 触发器：在进行数据操作之前执行。可以用于对数据进行验证和修正等操作，也可以在数据插入之前生成一个自增 ID。
2. AFTER 触发器：在进行数据操作之后执行。可以用于记录数据操作历史、自动填写数据等操作。
3. INSTEAD OF 触发器：在进行数据插入、更新和删除操作时，不执行默认的操作，而是执行自定义的操作。通常在视图或联接表上使用，用于处理无法直接在视图或联接表上进行的操作。

在这三种类型中，BEFORE 触发器和 AFTER 触发器是最常见的类型，通常用于对数据进行各种操作，而 INSTEAD OF 触发器则是在特定情况下才会使用。

## PL/SQL触发器的语法格式

触发器的语法格式如下：

```sql
CREATE [ OR REPLACE ] TRIGGER 触发器名称
{ BEFORE | AFTER | INSTEAD OF } { 事件类型 } ON 表名
[ FOR EACH ROW ]  -- 可选，表示针对每一行数据都执行一次触发器
[ WHEN ( 条件 ) ] -- 可选，表示触发器执行的条件
DECLARE
   -- 声明变量和其他组件
BEGIN
   -- 触发操作，可以是 SQL 语句或 PL/SQL 代码块
END;
```

## 





