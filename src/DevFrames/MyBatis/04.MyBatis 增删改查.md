---
icon: page
order: 4
---
# MyBatis 增删改查

## 添加

```xml
<!--int insertUser();-->
<insert id="insertUser">
    insert into t_user values (null, '张三', '123', 23, '女', '123@126.com')
</insert>
```

## 删除

```xml
<!--int deleteUser();-->
<delete id="deleteUser">
    delete from t_user where id = 2
</delete>
```

## 修改

```xml
<!--int updateUser();-->
<update id="updateUser">
    update t_user set username='ybc', password='123' where id = 3
</update>
```

## 查询一个实体类对象

```xml
<!--User getUserById();-->
<select id="getUserById" resultType="com.cj.mybatis.entity.User">
    select * from t_user where id = 1
</select>
```

## 查询集合

```xml
<!--List<User> getUserList();-->
<select id="getUserList" resultType="com.cj.mybatis.entity.User">
    select * from t_user
</select>
```

注意：

查询的标签 select 必须设置属性 resultType 或 resultMap，用于设置实体类和数据库表的映射

- resultType：自动映射，用于属性名和表中字段名一致的情况

- resultMap：自定义映射，用于一对多或多对一或字段名和属性名不一致的情况

当查询的数据为多条时，不能使用实体类作为返回值，只能使用集合，否则会抛出异常 TooManyResultsException
